; pkg_jcalpro
PKG_JCALPRO="JCalPro Package"
; Translators: PKG_JCALPRO_DESCRIPTION should always equal "installer_html" surrounded by @ here
; This string will be replaced during the build process
PKG_JCALPRO_DESCRIPTION="<script type="_QQ_"text/javascript"_QQ_" src="_QQ_"../media/jcalpro/js/jcalpro.js"_QQ_"></script><script type="_QQ_"text/javascript"_QQ_">window.isJcalPro = window.location.href.match(/option=com_jcalpro/);function jclSaveConfig() {if (window.isJcalPro) return;try {var form = JCalPro.id('jcl_install_config_frame').contentWindow.$('component-form');if (form) {form.task.value = 'component.save';var action = form.get('action');new Request({url:action}).post(form);}}catch (err) {alert(err);}}(function(){JCalPro.onLoad(function(){var elem = JCalPro.id('jcl_install_element');var buttons = ['jcl_migrate_data', 'jcl_sample_data'];var disableButton = function(btn) {var b = JCalPro.id(btn);if (b) {b.removeEvents();b.disabled = true;}};var disableButtons = function() {Array.each(buttons, function(el, idx) {disableButton(el);});};var setError = function(err) {var msg = JCalPro.id('system-message');if (msg) {new Element('dt').addClass('error').set('text', 'Error').inject(msg);new Element('li').set('text', err).inject(new Element('ul').inject(new Element('dd').addClass('error').addClass('message').inject(msg)));}else {alert(err);}};var onFail = function() {setError(JCalPro.id('jcl_install_error').value);};var installScreenRequest = JCalPro.request({url: 'index.php?option=com_jcalpro&view=install&format=raw',requestType: 'html',link: 'ignore',update: elem,onSuccess: function() {JCalPro.each(buttons, function(button, idx) {var btn = JCalPro.id(button), task = button.replace(/^jcl_([a-z]*)_data$/, '$1');if (btn) {JCalPro.addEvent('click', btn, function(ev) {var loader = new Element('div', {'id' : 'jcl_install_loader'}), form = JCalPro.id('jcl_install_default_fieldset'), size;form.setStyles({position: 'relative', display: 'block'});size = form.getSize();loader.setStyles({position: 'absolute',background: '#FFFFFF url(../media/jcalpro/images/ajax-loader.gif) no-repeat scroll center center',opacity: '0.5',width: size.x + 'px',height: size.y + 'px',top: '0px', left: '0px'});form.adopt(loader);var req = new Request.JSON({url: 'index.php?option=com_jcalpro&task=install.' + task + '&format=json',onSuccess: function(responseJSON, responseText) {disableButtons();loader.destroy();if (responseJSON.error) {Array.each(responseJSON.error, function(err, err_idx) {setError(err);});return false;}else {btn.value = responseJSON.ok;}}}).send();});}});},onFailure: onFail,onException: onFail});});})();</script><div id="_QQ_"jcl_install_element"_QQ_"><div style="_QQ_"text-align:center;min-height:90px;padding:12px"_QQ_"><img src="_QQ_"../media/jcalpro/images/ajax-loader.gif"_QQ_" /></div></div><div id="_QQ_"jcl_install_texts"_QQ_" style="_QQ_"display:none;"_QQ_"><input type="_QQ_"hidden"_QQ_" id="_QQ_"jcl_install_error"_QQ_" value="_QQ_"JCalPro 3 konnte nicht installiert werden!"_QQ_"/></div><script type="_QQ_"text/javascript"_QQ_">(function(){if (window.isJcalPro) return;document.write('<div id="_QQ_"jcl_install_config"_QQ_" style="_QQ_"display:none;"_QQ_">');document.write('<iframe id="_QQ_"jcl_install_config_frame"_QQ_" src="_QQ_"index.php?option=com_config&view=component&component=com_jcalpro&path=&tmpl=component"_QQ_" onload="_QQ_"jclSaveConfig();"_QQ_"></iframe>');document.write('</div>');})();</script>"
